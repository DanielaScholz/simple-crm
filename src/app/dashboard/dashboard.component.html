<div class="card-wrapper">
    <div class="card-container">
        <mat-card class="small-card greeting">
            Welcome back, <br><span color="#FF4081">{{ name }}</span>
        </mat-card>

        <mat-card class="big-card">
            <mat-card-header>
                <mat-card-title>My tasks</mat-card-title>
            </mat-card-header>

            <ng-container *ngIf="allTasks.length > 0; else noTasks">
                <table>
                    <tr>
                        <th></th>
                        <th>Title</th>
                        <th>Due date</th>
                    </tr>
                    <tr *ngFor="let task of allTasks; let i = index">
                        <td>
                            <mat-checkbox [(ngModel)]="task.checked"
                                (change)="updateCheckboxValue($event, i)"></mat-checkbox>
                        </td>
                        <td>{{ task.title }}</td>
                        <td> {{ dueDates[i] }}</td>
                    </tr>
                </table>
            </ng-container>

            <ng-template #noTasks>
                <p class="pd-l-24">No tasks</p>
            </ng-template>
        </mat-card>
    </div>

    <div class="card-container">
        <mat-card class="small-card">
            <mat-card-header>
                <mat-card-title>Total sales</mat-card-title>
            </mat-card-header>
            <div class="sales-container">
                <div class="currency">â‚¬</div>
                <div class="total-sales"> {{ totalSales}}</div>
            </div>
        </mat-card>

        <mat-card class="big-card">
            <mat-card-header>
                <mat-card-title>Send mail</mat-card-title>
            </mat-card-header>

            <ng-container *ngIf="users.length > 0; else noContacts">
                <table class="mail-table">
                    <ng-container *ngFor="let user of users; let i = index">
                        <tr *ngIf="i <= 2">
                            <td>
                                <a href="mailto: {{users[i].eMail}}">
                                    <button mat-icon-button color="accent" class="small-icon-btn">
                                        <mat-icon>mail</mat-icon>
                                    </button>
                                </a>
                            </td>
                            <td>{{ users[i].firstName }} {{ users[i].lastName}}</td>
                        </tr>
                    </ng-container>
                </table>
            </ng-container>

            <ng-template #noContacts>
                <p class="pd-l-24">No contacts</p>
            </ng-template>
        </mat-card>
    </div>

    <div class="card-container calender">
        <mat-calendar [(selected)]="selected"></mat-calendar>
    </div>
</div>